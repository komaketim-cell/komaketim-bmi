<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>محاسبه‌گر BMI و کالری | کمکتیم</title>
  <link rel="stylesheet" href="css/styles.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header class="site-header">
    <div class="brand">
      <img src="assets/logo.png" alt="کمکتیم" class="logo"/>
      <div class="brand-text">
        <h1>کمکتیم</h1>
        <p>Komaketim.ir</p>
      </div>
    </div>
    <div class="header-actions">
      <button id="btnDownloadPdf" class="btn primary">دانلود PDF</button>
    </div>
  </header>

  <main class="container">
    <nav class="tabs">
      <button class="tab-btn active" data-tab="adult">BMI بزرگسال</button>
      <button class="tab-btn" data-tab="child">BMI کودک/نوجوان (WHO)</button>
      <button class="tab-btn" data-tab="bmr">BMR و TDEE</button>
    </nav>

    <section id="tab-adult" class="tab-section active">
      <h2>محاسبه BMI بزرگسال</h2>
      <div class="form-grid">
        <div class="form-field">
          <label>وزن (کیلوگرم)</label>
          <input type="number" id="adultWeight" min="1" step="0.1" placeholder="مثلاً 70"/>
        </div>
        <div class="form-field">
          <label>قد (سانتی‌متر)</label>
          <input type="number" id="adultHeight" min="30" step="0.1" placeholder="مثلاً 175"/>
        </div>
        <div class="form-field">
          <label>سن (سال) — اختیاری</label>
          <input type="number" id="adultAge" min="1" step="1" placeholder="مثلاً 28"/>
        </div>
      </div>
      <button id="calcAdult" class="btn">محاسبه</button>
      <div id="adultResult" class="result-card hidden"></div>
    </section>

    <section id="tab-child" class="tab-section">
      <h2>محاسبه BMI کودک/نوجوان (WHO Z-Score)</h2>
      <div class="form-grid">
        <div class="form-field">
          <label>جنسیت</label>
          <select id="childSex">
            <option value="female">دختر</option>
            <option value="male">پسر</option>
          </select>
        </div>
        <div class="form-field">
          <label>سن (سال)</label>
          <input type="number" id="childAgeYears" min="0" step="1" placeholder="مثلاً 10"/>
        </div>
        <div class="form-field">
          <label>سن (ماه)</label>
          <input type="number" id="childAgeMonths" min="0" max="11" step="1" placeholder="مثلاً 6"/>
        </div>
        <div class="form-field">
          <label>وزن (کیلوگرم)</label>
          <input type="number" id="childWeight" min="1" step="0.1" placeholder="مثلاً 35"/>
        </div>
        <div class="form-field">
          <label>قد (سانتی‌متر)</label>
          <input type="number" id="childHeight" min="30" step="0.1" placeholder="مثلاً 140"/>
        </div>
      </div>
      <button id="calcChild" class="btn">محاسبه</button>
      <div id="childResult" class="result-card hidden"></div>
    </section>

    <section id="tab-bmr" class="tab-section">
      <h2>محاسبه BMR و TDEE</h2>
      <div class="form-grid">
        <div class="form-field">
          <label>جنسیت</label>
          <select id="bmrSex">
            <option value="male">مرد</option>
            <option value="female">زن</option>
          </select>
        </div>
        <div class="form-field">
          <label>سن (سال)</label>
          <input type="number" id="bmrAge" min="1" step="1" placeholder="مثلاً 28"/>
        </div>
        <div class="form-field">
          <label>وزن (کیلوگرم)</label>
          <input type="number" id="bmrWeight" min="1" step="0.1" placeholder="مثلاً 70"/>
        </div>
        <div class="form-field">
          <label>قد (سانتی‌متر)</label>
          <input type="number" id="bmrHeight" min="30" step="0.1" placeholder="مثلاً 175"/>
        </div>
        <div class="form-field">
          <label>سطح فعالیت</label>
          <select id="activityLevel">
            <option value="1.2">کم‌تحرک (1.2)</option>
            <option value="1.375">فعالیت سبک (1.375)</option>
            <option value="1.55" selected>فعالیت متوسط (1.55)</option>
            <option value="1.725">پرتحرک (1.725)</option>
            <option value="1.9">بسیار پرتحرک (1.9)</option>
          </select>
        </div>
      </div>
      <button id="calcBmr" class="btn">محاسبه</button>
      <div id="bmrResult" class="result-card hidden"></div>
    </section>

    <section id="pdf-area" class="pdf-area">
      <div class="pdf-header">
        <img src="assets/logo.png" alt="کمکتیم" class="logo small"/>
        <div class="pdf-title">
          <h2>گزارش نتایج محاسبات</h2>
          <p>کمکتیم | Komaketim.ir</p>
        </div>
        <div class="pdf-date" id="pdfDate"></div>
      </div>
      <div class="pdf-content">
        <div id="pdfAdult" class="pdf-block hidden"></div>
        <div id="pdfChild" class="pdf-block hidden"></div>
        <div id="pdfBmr" class="pdf-block hidden"></div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <p>© کمکتیم | Komaketim.ir</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="js/lms.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
